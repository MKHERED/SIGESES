
    <div class="form-center text-start">
       
        <form method='POST' class="form" action="{{route('estaciones.store')}}" enctype="multipart/form-data">
             @csrf
             <div class="row w-max">
                <div class="col-6">
                <table class="table">
                        <tr>
                            <td>
                                <label for="Estacion">Estación</label>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="Estacion" placeholder="Nombre de la estación" name="nombre" value="{{old('nombre')}}" >
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label for="Abreviatura">Siglas</label>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="Abreviatura" placeholder="Abreviatura de la estación" name="siglas" value="{{old('siglas')}}">
                            </td>                    
                        </tr>
                        <tr>
                            <td>
                                <label for="Ubicacion">Ubicación</label>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="Ubicacion" placeholder="Ubicacion de la estación" name="ubicacion" value="{{old('ubicacion')}}">
                            </td>                    
                        </tr>
                        <tr>
                            <td>
                                <label for="dec">¿Las coordenas son decimales?</label>
                            </td>
                            <td class="text-center">
                                <label for="dec">Si: &nbsp;</label><input type="checkbox" name="dec" id="dec">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label for="Longitud">Longitud</label>
                            </td>
                            <td style="display: flex">
                                <input type="number" class="form-control" style="width: 100px" id="Longitud" name="longitud" value="{{old('longitud')}}">
                                <input type="number" class="form-control" style="width: 100px" id="Longitud" name="longitud1" value="{{old('longitud1')}}">
                                <input type="number" class="form-control" style="width: 100px" id="Longitud" name="longitud2" value="{{old('longitud2')}}">
                            </td>                                             
                        </tr>
                        <tr>
                            <td>
                                <label for="Latitud">Latitud</label>
                            </td>
                            <td style="display: flex">
                                <input type="number" class="form-control" style="width: 100px" id="Latitud" name="latitud" value="{{old('latitud')}}">
                                <input type="number" class="form-control" style="width: 100px" id="Latitud" name="latitud1" value="{{old('latitud1')}}">
                                <input type="number" class="form-control" style="width: 100px" id="Latitud" name="latitud2" value="{{old('latitud2')}}">
                            </td>                    
                        </tr>
                        <tr>
                            <td>
                                <label for="Altitud">Altitud</label>
                            </td>
                            <td>
                                <input type="number" class="form-control" id="Altitud" placeholder="Altitud de la estación" name="altitud" value="{{old('altitud')}}">
                            </td>                    
                        </tr>
                        <tr>
                            <td>
                                <label for="doc">¿Subira algún documento?</label>
                            </td>
                            <td class="text-center">
                                <label for="doc">Si: &nbsp;</label><input type="checkbox" name="doc" id="doc">
                            </td> 

                        </tr>
                    </table>
                </div>
            
                <div class="col-6">
                    <table class="table">

                        <tr>
                            <td>
                                <label for="Estado">Estado</label>
                            </td>
                            <td>
                                <select type="list" class="form-control" id="Estado"   name="estado" value="{{old('estado')}}">
                                    <script src="{{asset('js/estadoslist.js') }}">
                                        
                                    </script>
                                   
                                </select>
                            </td>   
                        </tr>
                        <tr>
                            <td>
                                <label for="Region">Región</label>
                            </td>
                            <td>
                                <select type="list" class="form-control" id="Region"   name="region" value="{{old('region')}}">
                                    <option value="0">Occidente</option>
                                    <option value="1">Centro</option>
                                    <option value="2">Oriente</option>
                                </select>
                            </td>   
                        </tr>
                        <tr>
                            <td>
                                <label for="Operativa">Operativa</label>
                            </td>
                            <td>
                                <select type="list" class="form-control" id="Operativa"   name="operativa" value="{{old('operativa')}}">
                                    <option value="0">Si</option>
                                    <option value="1">No</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label for="Imagen">Imagen</label>
                            </td>
                            <td>
                                <input type="file" class="form-control" id="Imagen" name="imagen_n" onchange="return muestraImg();">
                            </td>
                              
                        </tr>
                        <tr>
                            <td>
                                <label for="Vista">Vista Previa</label>
                            </td>
                            <td>
                                <div class="border" style="width:350px; height:225px " id="muestrasImg">


                                </div>
                                <script>
                                    function muestraImg() {
                                    var contenedor = document.getElementById("muestrasImg");
                                    var archivos = document.getElementById("Imagen").files;
                                    for (i = 0; i < archivos.length; i++) {
                                        imgTag = document.createElement("img");
                                        imgTag.height = 225;//ESTAS LINEAS NO SON "NECESARIAS" 
                                        imgTag.width = 350; //ÚNICAMENTE HACEN QUE LAS IMÁGENES SE VEAN 
                                        imgTag.id = i;      // ORDENADAS CON UN TAMAÑO ESTÁNDAR
                                        imgTag.src = URL.createObjectURL(archivos[i]);
                                        contenedor.appendChild(imgTag);
                                    }
                                    }
                                </script>

                            </td>
                        </tr>
                    </table>

            </div>
            <div class="row m-0 text-center align-items-center justify-content-center">
                <input class="btn btn-success m-1 " style=" width:100px" type='submit' value='Guardar'>
            </div>
        </form>
    </div>


</main>






-------------------------------------------------------------------------------------------------

    
    if (gms.checked) {
        if (utm.checked) {
            utm.click();
            var longitud = document.getElementById("Longitud1");
            var latitud = document.getElementById("Latitud1");
            longitud.remove();
            latitud.remove();
            var longitud = document.getElementById("Longitud2");
            var latitud = document.getElementById("Latitud2");
            longitud.remove();
            latitud.remove();
            
            
        }
    }


    if (gms.checked) {
        longitud.insertAdjacentHTML("afterend", '<input type="number" class="form-control" style="width: 100px" id="Longitud1" name="longitud1" value="">');
        longitud.insertAdjacentHTML("afterend", '<input type="number" class="form-control" style="width: 100px" id="Longitud2" name="longitud" value="">');

        latitud.insertAdjacentHTML("afterend", '<input type="number" class="form-control" style="width: 100px" id="Latitud1" name="latitud1" value="">');
        latitud.insertAdjacentHTML("afterend", '<input type="number" class="form-control" style="width: 100px" id="Latitud2" name="latitud2" value="">');
    }





    if (gms.checked == false) {
        var longitud = document.getElementById("Longitud1");
        var latitud = document.getElementById("Latitud1");
        longitud.remove();
        latitud.remove();
        var longitud = document.getElementById("Longitud2");
        var latitud = document.getElementById("Latitud2");
        longitud.remove();
        latitud.remove();

    }






    if ((gms.checked) && (utm.checked == false)) {

        longitud.insertAdjacentHTML("beforeend", '<input type="number" class="form-control" style="width: 100px" id="Longitud" name="longitud" value="">');
        longitud.insertAdjacentHTML("beforeend", '<input type="number" class="form-control" style="width: 100px" id="Longitud1" name="longitud1" value="">');
        longitud.insertAdjacentHTML("beforeend", '<input type="number" class="form-control" style="width: 100px" id="Longitud2" name="longitud2" value="">');

        latitud.insertAdjacentHTML("beforeend", '<input type="number" class="form-control" style="width: 100px" id="Latitud" name="latitud" value="">');
        latitud.insertAdjacentHTML("beforeend", '<input type="number" class="form-control" style="width: 100px" id="Latitud1" name="latitud1" value="">');
        latitud.insertAdjacentHTML("beforeend", '<input type="number" class="form-control" style="width: 100px" id="Latitud2" name="latitud2" value="">');
    } else {
        
        var longitud = document.getElementById("Longitud");
        var latitud = document.getElementById("Latitud");
        longitud.remove();
        latitud.remove();
        var longitud = document.getElementById("Longitud1");
        var latitud = document.getElementById("Latitud1");
        longitud.remove();
        latitud.remove();
        var longitud = document.getElementById("Longitud2");
        var latitud = document.getElementById("Latitud2");
        longitud.remove();
        latitud.remove();        
        
    }
    
    if((utm.checked) && (gms.checked == false)) {
        longitud.insertAdjacentHTML("beforeend", '<input type="number" class="form-control" style="width: 100px" id="Longitud" name="longitud" value="">');
        latitud.insertAdjacentHTML("beforeend", '<input type="number" class="form-control" style="width: 100px" id="Latitud" name="latitud" value="">');
        
    } else {
        var longitud = document.getElementById("Longitud");
        var latitud = document.getElementById("Latitud");
        longitud.remove();
        latitud.remove();
    }




                                <input type="number" class="form-control" style="width: 300px" id="Longitud" name="longitud" value="">
                                <input type="number" class="form-control" style="width: 300px" id="Latitud" name="latitud" value="">






-----------------------------------------------------ççç



 $details = request()->except(['_token', '_method']);

        $estacion = Estaciones::findOrFail($id);
        

        $details->siglas = $estacion['siglas'];
        $details->estacion = $estacion['nombre'];

        Details::where('estacion', '=' ,$details['nombre'])->update($details);



---------------------------------

                    DB::table->insert('antenagps', [$details['id'], $details['estacion'], $details['siglas'], $details['antena_gps'], $details['antena_gps_esp'], $details['instalacion_satelital'], $details['instalacion_satelital']]);

[$details['id'], $details['estacion'], $details['siglas'], $details['antena_gps'], $details['antena_gps_esp'], $details['instalacion_satelital'], $details['instalacion_satelital']]

-----------------------
 $('meta[name="csrf-tokem"]').attr('content')
 {{csrf_token()}}

             headers: {
                'x-csrf-TOKEN': '{{csrf_token()}}',
                maxFilesize: 16,
                acceptedFiles: ".jpeg, .jpg, .png",
            },

            ------------------------------------------------------

            paramName: "file", // The name that will be used to transfer the file
            maxFilesize: 4, // MB
            accept: function(file, done) {
                if (file.name == "justinbieber.jpg") {
                    done("Naha, you don't.");
                } else {
                    done();
                }
            }

            ----------------------------------------------------------

                        maxFilesize: 16,
            acceptedFiles: ".jpeg, .jpg, .png",

            headers: {
                'x-csrf-TOKEN': '{{csrf_token()}}',
            },

.--------------------------------- Antes despues de Editar

        // $id = $request->id;
        
        //   $request->validate([
        //        'file' => 'required',
        //   ]);

        $image = $request->file('file');
        $imageName = $image->getClientOriginalName();
        
        
        return response()->echo($request);

        //return response()->json($request->validate(['file'=>'required']));
        //  $estaciones = Estaciones::findOrFail($id);
        //  if ($estaciones) {
        //       $request->file('file')->store('uploads/'.$estaciones["nombre"].'/'.'doc/', 'public');
             
        //      }
        
        //crear un link a la base de datos
        //crear una notificacion de exito al subir



            maxFilesize: 12,
            renameFile: function(file) {
                var dt = new Date();
                var time = dt.getTime();
            return time+file.name;
            },
            acceptedFiles: ".jpeg,.jpg,.png,.gif",
            addRemoveLinks: true,
            timeout: 5000,
            
            success: function(file, response)
            {
                console.log(response);
            },
            error: function(file, response)
            {
                return false;
            }











































































        // $this->validate($request, [
        //     'photo' => 'required|mimes:jpg,png|max:12288'
        // ]);
         $request->validate(['file' => 'required',
                             'file' => 'max:12288',
                             'file' => 'mimes:png,jpg',
                            ]);
        
        $photo = $request->file('file');
        
        // $id = $request->id;
        
        // $request->validate(['file' => 'required',
        //                     'file' => 'max:12288',
        //                      'file' => 'mimes:png,jpg']);
        
        // $v = $request->file('file');

         return response()->json($photo);

        //  $request->validate([
        //       'file' => 'required'
        //  ]);

        // $estaciones = Estaciones::findOrFail($id);
        // if ($estaciones) {
        //      $request->file('file')->store('uploads/'.$estaciones["nombre"].'/'.'doc/', 'public');
             
        //     }
        
        //crear un link a la base de datos
        //crear una notificacion de exito al subir
        //return redirect()->route('estaciones.index');